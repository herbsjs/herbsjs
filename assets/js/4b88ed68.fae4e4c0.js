"use strict";(self.webpackChunkherbjs_website=self.webpackChunkherbjs_website||[]).push([[4447],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),h=u(n),d=a,m=h["".concat(l,".").concat(d)]||h[d]||c[d]||s;return n?r.createElement(m,i(i({ref:t},p),{},{components:n})):r.createElement(m,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=h;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var u=2;u<s;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},15501:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return c}});var r=n(87462),a=n(63366),s=(n(67294),n(3905)),i=["components"],o={id:"graphql-rest",title:"8. GraphQL & Rest",sidebar_label:"8. GraphQL & Rest",slug:"/tutorial/graphql-rest"},l=void 0,u={unversionedId:"tutorial/graphql-rest",id:"tutorial/graphql-rest",title:"8. GraphQL & Rest",description:"Herbs supports in REST and GraphQL APIs, which means that you can provide two options for the client's request using the same use case!",source:"@site/docs/tutorial/graphql-rest.md",sourceDirName:"tutorial",slug:"/tutorial/graphql-rest",permalink:"/docs/tutorial/graphql-rest",editUrl:"https://github.com/herbsjs/herbsjs.github.io/blob/master/docs/tutorial/graphql-rest.md",tags:[],version:"current",frontMatter:{id:"graphql-rest",title:"8. GraphQL & Rest",sidebar_label:"8. GraphQL & Rest",slug:"/tutorial/graphql-rest"},sidebar:"sidebar",previous:{title:"7. Migrations",permalink:"/docs/tutorial/migrations"},next:{title:"Motivation",permalink:"/docs/project/motivation"}},p={},c=[{value:"Running",id:"running",level:2},{value:"/graphql",id:"graphql",level:2},{value:"/herbsshelf",id:"herbsshelf",level:2},{value:"Requesting via Rest",id:"requesting-via-rest",level:2},{value:"The last step",id:"the-last-step",level:2}],h={toc:c};function d(e){var t=e.components,o=(0,a.Z)(e,i);return(0,s.kt)("wrapper",(0,r.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Herbs supports in REST ",(0,s.kt)("strong",{parentName:"p"},"and")," GraphQL APIs, which means that you can provide two options for the client's request using the same use case!"),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"herbs"),", through the metadata that the ",(0,s.kt)("inlineCode",{parentName:"p"},"herbarium")," stores, prepares all the mutation typing and queries for the graphql layer of the api, as well as all the routes that will be used, so now we just need to run our project and make the requests."),(0,s.kt)("p",null,"It is not the intention of this tutorial to explain Graphql and Rest, we believe you already have some familiarity with these terms."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"GraphQL is a query language for your API, and a server-side runtime for executing queries using a type system you define for your data."),(0,s.kt)("p",{parentName:"blockquote"},"\u2014 ",(0,s.kt)("a",{parentName:"p",href:"https://graphql.org/learn"},(0,s.kt)("em",{parentName:"a"},"Introduction to GraphQL | GraphQL")))),(0,s.kt)("h2",{id:"running"},"Running"),(0,s.kt)("p",null,"Let's start running follow commando to start application:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"npm run start\n")),(0,s.kt)("p",null,"You will get a result in the terminal that looks like this:\n",(0,s.kt)("img",{src:n(79462).Z,width:"601",height:"683"})),(0,s.kt)("p",null,"In the message we can see the Rest endpoints that were generated, following the graphql access route, a ",(0,s.kt)("inlineCode",{parentName:"p"},"herbsshelf")," access route and finally the api main route and its port."),(0,s.kt)("h2",{id:"graphql"},"/graphql"),(0,s.kt)("p",null,"Now it is time to access the graphql playground and start creating lists and items."),(0,s.kt)("p",null,"Access the route ",(0,s.kt)("inlineCode",{parentName:"p"},"/graphql"),", and you see a follow screen:"),(0,s.kt)("p",null,(0,s.kt)("img",{src:n(84161).Z,width:"1103",height:"863"})),(0,s.kt)("p",null,"Click on 'Query your server' and the next screen we will be able to start\nrequests."),(0,s.kt)("p",null,"In this panel that we see in the picture below,\nwe build a Mutation to create a new list.\n",(0,s.kt)("img",{src:n(64743).Z,width:"1397",height:"1000"})),(0,s.kt)("p",null,"Now we can check on database in table list that our new list are created:\n",(0,s.kt)("img",{src:n(17066).Z,width:"720",height:"155"})),(0,s.kt)("p",null,"below are the mutation and variables used in this example"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Graphql Mutation")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-graphql"},"mutation CreateNewList($name: String, $description: String) {\n  createList(name: $name, description: $description) {\n    id\n    name\n    description\n  }\n}\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Variables")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "My first list",\n  "description": "list description"\n}\n')),(0,s.kt)("h2",{id:"herbsshelf"},"/herbsshelf"),(0,s.kt)("p",null,"Herbs Shelf is a self-generated documentation based on ",(0,s.kt)("a",{parentName:"p",href:"/docs/usecase/getting-started"},"use cases")," and ",(0,s.kt)("a",{parentName:"p",href:"/docs/entity/getting-started"},"entities")," from your domain. "),(0,s.kt)("p",null,"Access this route in your web browser and know this powerfull and beautiful\ndoc that ",(0,s.kt)("inlineCode",{parentName:"p"},"herbs")," brings to you:"),(0,s.kt)("p",null,(0,s.kt)("img",{src:n(15161).Z,width:"1392",height:"1000"})),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"Refer ",(0,s.kt)("a",{parentName:"p",href:"/docs/glues/herbsshelf"},(0,s.kt)("strong",{parentName:"a"},"Herbs Shelf"))," to know more.")),(0,s.kt)("h2",{id:"requesting-via-rest"},"Requesting via Rest"),(0,s.kt)("p",null,"To close this tutorial, let's make the same request to save a list, only this time through the Rest layer of our application, using ",(0,s.kt)("a",{parentName:"p",href:"https://insomnia.rest/"},"insomnia")," to make this request."),(0,s.kt)("p",null,(0,s.kt)("img",{src:n(84916).Z,width:"1152",height:"585"})),(0,s.kt)("p",null,"And again, we can check on database in table lists, our records made:\n",(0,s.kt)("img",{src:n(11766).Z,width:"838",height:"185"})),(0,s.kt)("h2",{id:"the-last-step"},"The last step"),(0,s.kt)("p",null,"Thank you very much and congratulations for getting here, herbs is a tool built with a lot of dedication and that is in constant evolution, we hope you can enjoy what herbs has to offer."),(0,s.kt)("p",null,"Join our community and help us improve herbs even more."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://discord.gg/e3cQ66KDv5"},"Discord")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://twitter.com/herbsjs"},"Twitter"))))}d.isMDXComponent=!0},15161:function(e,t,n){t.Z=n.p+"assets/images/herbsshelf-tutorial-3420b1752428cc191dfde28bf2d95f38.gif"},64743:function(e,t,n){t.Z=n.p+"assets/images/graphql-studio-mutation-list-fcbcaa2c66ef0fe67ff629321fdd07e7.gif"},84161:function(e,t,n){t.Z=n.p+"assets/images/graphql-studio01-d5ec4086dbb8632a21b69e5ae882d34b.png"},17066:function(e,t,n){t.Z=n.p+"assets/images/list-record-save-2773564286d21d3ce689176c6bb8219a.png"},11766:function(e,t,n){t.Z=n.p+"assets/images/list-record-save2-ac78a60e2918a62ea691373a0dd8ec8e.png"},84916:function(e,t,n){t.Z=n.p+"assets/images/request-via-rest-ac9c64939e1a535dafd4fcf4f4d47f13.png"},79462:function(e,t,n){t.Z=n.p+"assets/images/running-project-f53fe6e11e64a78f3801a01df752c3d5.png"}}]);